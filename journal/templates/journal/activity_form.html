{% extends 'journal/base_user.html' %}
{% load staticfiles %}
{% load comments %}

{% block 'title' %}
<title>Activity Form </title>
{% endblock %}

{% block 'page-css' %}
<link rel="stylesheet" type="text/css" href="{% static 'journal/activity_form/css/style.css' %}">
{% endblock %}

{% block 'page-js' %}
<script src="{% static 'journal/activity_form/js/main.js' %}"></script>
{% endblock %}


{% block 'nav-content' %}
<h3> Activities Form </h3>
<a href="{{ request.META.HTTP_REFERER }}"><i class="fa fa-long-arrow-left fa-6x"></i> Back to activities page. </a>
{% endblock %}

{% block 'main-content' %}
<h3> Hi {{ student }}! </h3>
<div class="row">
	<form action="" method="post">
		{% csrf_token %}
		<div class="activity-box">
			<div class="col-xs-12 col-md-12 col-lg-12">
				<div class="form-group">
					<label for="activity_name"> Activity Name: </label>
					<input class="form-control" type="text" name="{{ form.activity_name.name }}" value="{{ form.activity_name.value|default:'' }}" required>
				</div>
			</div>

			<div class="form-group">
				<label for="activity_description"> Activity Description: </label>
				<textarea class="form-control" rows="3" type="text" name="{{form.activity_description.name}}" value="{{form.activity_description.value}}" required> {{form.activity_description.value|default:''}} </textarea>
			</div>
		</div>

		<div class="dates">
			<div class="col-xs-12 col-md-6 col-lg-6">
				<label for="start_date"> Start Date: </label>
				<input class="form-control" type="date" name="{{form.start_date.name}}" value="{{form.start_date.value|default:''}}" required>
			</div>

			<div class="col-xs-12 col-md-6 col-lg-6">
				<label for="end_date"> End Date: </label>
				<input class="form-control" type="date" name="{{ form.end_date.name }}" value="{{ form.end_date.value|default:'' }}">
			</div>
		</div>

		<br>

		<h4 class="activity-type"> Activity Type: </h4>
		<div class="activity-type-box">
			{{ form.activity_type }}
		</div>

		<h4 class="learning-obj"> Learning Objectives: </h4>
		<div class="learn-obj-box">
			{{ form.learned_objective }}
		</div>

		<h4 class="advisor-info"> Advisor's Info: </h4>
		<div class="col-xs-12 col-md-12 col-lg-12">
			<span class="help-block"> *Required only upon final submission to IB coordinator* </span>
			<div class="advisor-box">
				<div class="form-group">
					<label for="activity_adviser"> Activity Adviser: </label>
					<input class="form-control" type="text" name="{{form.activity_adviser.name}}" value="{{ form.activity_adviser.value|default:'' }}">
				</div>

				<div class="form-group">
					<label for="advisor_phone"> Advisor Phone: </label>
					<input class="form-control" type="tel" name="{{form.advisor_phone.name}}" value="{{ form.advisor_phone.value|default:'' }}">
				</div>

				<div class="form-group">
					<label for="advisor_email"> Advisor Email: </label>
					<input class="form-control" type="email" name="{{ form.advisor_email.name }}" value="{{ form.advisor_email.value|default:'' }}">
				</div>
			</div>
		</div>
		<br>

		<div class="submit-button">
			<a class="btn btn-default" href="/activities" role="button"> Back </a>
			<input class="btn btn-success" type="submit" value="Submit" />
		</div>
	</form>
</div>

{% if activity %}
  {% render_comment_list for activity %}
  {% get_comment_form for activity as form %}
    <form action="{% comment_form_target %}" method="POST">
    {% csrf_token %}
    {{ form.honeypot }}
    {{ form.content_type }}
    {{ form.object_pk }}
    {{ form.timestamp }}
    {{ form.security_hash }}
    <textarea class="form-group" id="{{ form.comment.id }}" rows="10" name="{{ form.comment.name }}" value="{{ form.comment.value }}" required></textarea>
    <input type="hidden" name="next" value="/comment_submit/">
    <br><input class="btn btn-success" type="submit" value="Add comment" id="id_submit">
    </form>
{% endif %}

{% endblock %}
