{% extends 'journal/base.html' %}

{% block 'content' %}
<h3> Adding entry for {{ activity.activity_name }}! </h3>
<h3><small> Here's a jist of your activity </small></h3>
<h4>Description: {{ activity.activity_description }} </h4>
<h4>Learning Objectives:
  <ul>
  {% for l in activity.learned_objective.all %}
    <li>{{ l.objective }}</li>
  {% endfor %}
  </ul>
</h4>
<h4> CAS Type:
  <ul>
    {% for i in activity.activity_type.all %}
    <li> {{ i.name }} </li>
    {% endfor %}
  </ul>
</h4>

{% if not entry_type %}
<div>
  <h3> What is your entry type? </h3>
  <a class="btn btn-default" href="/entry_form/{{ activity.id }}/t"> Text </a>
  <a class="btn btn-default" href="/entry_form/{{ activity.id }}/i"> Image </a>
  <a class="btn btn-default" href="/entry_form/{{ activity.id }}/l"> Link </a>
<div>
{% endif %}

<form action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {% if entry_type == "t" %}
      <div class="form-group">
        <textarea class="form-control" rows="3" name="{{ form.text_entry.name }}" value="{{ form.text_entry.value }}" required>{% if form.text_entry.value %}{{ form.text_entry.value }}{% endif %}</textarea>
      </div>
    {% elif entry_type == "i" %}
      <div class="form-group">
        {{ form.image_entry }}
        <!-- <input type="file" class="form-control" accept="image/*"
               name="{{ form.image_entry.name }}"
               value="{{ form.image_entry.value }}" required> -->
      </div>
    {% elif entry_type == "l" %}
      <div class="form-group">
        <input type="url" class="form-control" name="{{ form.link_entry.name }}"
               value="{{ form.link_entry.value }}" required>
      </div>
    {% endif %}

    <a class="btn btn-default" href="/activity/{{ activity.id }}/" role="button"> Back </a>
    {% if entry_type %}
      <button class="btn btn-success" type="submit" value="Submit">Submit </button>
    {% endif %}
    {% if entry_pk %}
      <a class="btn btn-danger" role="button" href="/delete_entry/{{ activity.id }}/{{ entry_pk }}"> Delete Entry</a>
    {% endif %}
</form>
{% endblock %}
