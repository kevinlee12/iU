{% extends 'journal/base_user.html' %}
{% load staticfiles %}


{% block 'title' %}
<title>Journal </title>
{% endblock %}

{% block 'page-css' %}
<link rel="stylesheet" type="text/css" href="{% static 'journal/entries/css/style.css' %}">
{% endblock %}

{% block 'page-js' %}
<script src="{% static 'journal/entries/js/main.js' %}"></script>
{% endblock %}

{% block 'nav-content'%}
<div class="activity-description">
	<h3 class="activity"> {{ activity_description}} </h3>
	<h5> {{ activity_start }} -- {{ activity_end }} </h5>
</div>

<div class="action-bar">
	{% if is_student %}
	<a href="/entry/{{ activity_pk }}/#text"> Add an entry</a> <br>
	<a href="/activity_details/{{ activity_pk }}">Edit the activity</a> <br>
	<!-- TODO: Confirmation dialog -->
	<a href="/delete_activity/{{ activity_pk }}"> Delete the activity </a>
	{% else %}
	<a href="/activity_details/{{ activity_pk }}"> View activity details </a>
	{% endif %}
</div>
{% endblock %}

{% block 'main-content' %}
<h2> Entries for {{ name }} </h2>
{% if entries %}
<table class="table table-hover">
	<tr class="table-header">
		<td class="col-md-4"> Date Created </td>
		<td class="col-md-8"> Entry Content </td>
	</tr>
		{% for entry in entries %}
		<tr class='clickable-row' data-href="/entry/{{ activity_id }}/{{ entry.pk }}/#{{ entry.entry_type }}">
  		<td class="col-xs-6 col-md-4"> {{ entry.created }} </td>
  		<td class="col-xs-6 col-md-8"> {{ entry }} </td>
		<!-- </a> -->
		{% endfor %}
	</tr>
{% else %}
<h4> No entries yet, would you like to <a href="/entry/{{ activity_pk }}/#text">add</a> one? </h4>
{% endif %}

{% endblock %}
</table>
